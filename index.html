<!DOCTYPE html>

<html lang="fr"><head>
<meta charset="utf-8"/><meta content="width=device-width, initial-scale=1" name="viewport"/>
<title>AcadÃ©mie de Performances â€“ PMP</title>
<style>
:root{--brand:#0E1116;--bg:#F6F7FB;--surface:#fff;--muted:#6B7280;--radius:16px;--max:980px}
*{box-sizing:border-box} body{margin:0;font-family:system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Arial,sans-serif;background:var(--bg);color:#0E1116}
header{background:linear-gradient(180deg,#0E1116,#1B2230);color:#fff;padding:12px 16px}
.wrap{max-width:var(--max);margin:0 auto;padding:0 16px 48px}
.card{background:var(--surface);border-radius:var(--radius);box-shadow:0 8px 28px rgba(0,0,0,.08);padding:22px;margin-top:16px}
.banner{width:100%;max-width:960px;border-radius:12px;display:block;margin:8px auto}
.btn{display:inline-flex;gap:.5rem;align-items:center;background:var(--brand);color:#fff;border:0;border-radius:12px;padding:14px 18px;font-weight:700;text-decoration:none}
.btn:hover{opacity:.92}
footer{text-align:center;color:var(--muted)}
</style></head>
<body>
<header class="wrap">
<img alt="BanniÃ¨re PMP" class="banner" src="assets/banner.jpg"/>
<h1>Profil Mental de Performance (PMP)</h1>
<p>AcadÃ©mie de Performances â€“ Questionnaire pÃ©dagogique</p>
</header>
<main class="wrap">
<section class="card">
<h2>Commencer le questionnaire</h2>
<p>RÃ©pondez Ã  une sÃ©rie de questions (1 Ã  5). Une seule question s'affiche Ã  la fois. Ã€ la fin, vous obtenez votre code PMP et un rapport dÃ©taillÃ©.</p>
<a class="btn" href="pmp_quiz_academie_performances.html">ðŸ‘‰ Lancer le questionnaire</a>
</section>
</main>
<footer class="wrap">Â© AcadÃ©mie de Performances</footer>
<script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script><script src="export-pdf.js"></script><script>
// -*- coding: utf-8 -*-
(function(){
  function attach(){
    var link = document.getElementById('linkProfil');
    if (!link) return;
    try{
      var items = (window.BANK && Array.isArray(window.BANK.items)) ? window.BANK.items : null;
      var axes = (window.BANK && window.BANK.axes) || [
        {left:'I',right:'E'},
        {left:'C',right:'G'},
        {left:'L',right:'V'},
        {left:'P',right:'F'},
      ];
      var answers = window.answers || window.ANSWERS || window.userAnswers || null;
      if (!items || !answers || answers.length !== items.length) return;
      var scores=[0,0,0,0], counts=[0,0,0,0];
      items.forEach((it,i)=>{
        var v = (answers[i]||3)-3;
        scores[it.axis] += (it.polarity||1)*v;
        counts[it.axis]++;
      });
      var code = scores.map((S,i)=> S>=0 ? axes[i].right : axes[i].left).join('');
      var rightPct = scores.map((S,i)=>{
        var n = counts[i]||1;
        var p = ((S + 2*n) / (4*n)) * 100;
        p = Math.max(0, Math.min(100, Math.round(p)));
        if (p === 50) p = (code[i]===axes[i].right) ? 51 : 49;
        return p;
      });
      // Store in localStorage for fallback on profile pages
      try{
        localStorage.setItem('pmp_last_bars', JSON.stringify({code:code, a:rightPct, ts:Date.now()}));
      }catch(e){}
      link.addEventListener('click', function(){
        var u = new URL(link.href, location.origin);
        u.searchParams.set('code', code);
        rightPct.forEach((p,i)=> u.searchParams.set('a'+i, p));
        link.href = u.toString();
      }, {once:true});
    }catch(e){/* ignore */}
  }
  if (document.readyState === 'loading') document.addEventListener('DOMContentLoaded', attach);
  else attach();
})();
</script></body></html>