<!DOCTYPE html>

<html lang="fr"><head>
<meta charset="utf-8"/><meta content="width=device-width, initial-scale=1" name="viewport"/>
<title>PMP – Questionnaire</title>
<link as="script" href="script.js" rel="preload"/>
<style>
:root{--bg:#F6F7FB;--surface:#fff;--text:#0E1116;--muted:#6B7280;--brand:#0E1116;--radius:14px;--max:860px}
*{box-sizing:border-box} body{margin:0;background:var(--bg);color:var(--text);font-family:system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Arial,sans-serif}
header{background:linear-gradient(180deg,#0E1116,#1B2230);color:#fff;padding:0 0 12px}
.wrap{max-width:var(--max);margin:0 auto;padding:0 16px 48px}
.banner{width:100%;display:block}
.card{background:var(--surface);border-radius:var(--radius);box-shadow:0 10px 28px rgba(0,0,0,.08);padding:22px;margin-top:16px}
h1{margin:.6rem 0 .2rem}.muted{color:#BFC6D5}
.progress{height:8px;background:#E9ECF4;border-radius:999px;overflow:hidden;margin:12px 0 18px}
.progress>span{display:block;height:100%;width:0;background:var(--brand);transition:width .3s}
.q{font-size:1.15rem;margin:.2rem 0 .6rem}
.scale{display:flex;gap:10px;flex-wrap:wrap;align-items:center;margin-top:8px}
input[type=radio]{accent-color:var(--brand)}
.btns{display:flex;gap:10px;margin-top:18px}
.btn{display:inline-flex;gap:.5rem;align-items:center;background:var(--brand);color:#fff;border:0;border-radius:12px;padding:12px 16px;font-weight:700;cursor:pointer}
.btn.secondary{background:#E9ECF5;color:#111}
.err{padding:10px;border-left:4px solid #b00020;background:#fdecec;border-radius:10px;margin-top:10px}
</style></head>
<body>
<header>
<img alt="Bannière PMP" class="banner" src="assets/banner.jpg"/>
<div class="wrap" style="padding-top:10px">
<h1>Questionnaire PMP</h1>
<p class="muted">Une question à la fois • Pas de retour en arrière • 1=Pas d'accord … 5=Tout à fait d'accord</p>
</div>
</header>
<main class="wrap">
<div class="progress"><span id="bar"></span></div>
<section class="card">
<noscript><div class="err">JavaScript est désactivé. Activez‑le pour passer le test.</div></noscript>
<div id="screen"></div>
</section>
</main>
<script defer="" src="script.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script><script src="export-pdf.js"></script><script>// axis-enhancer injected</script><script>
// -*- coding: utf-8 -*-
(function(){
  function attach(){
    var link = document.getElementById('linkProfil');
    if (!link) return;
    try{
      var items = (window.BANK && Array.isArray(window.BANK.items)) ? window.BANK.items : null;
      var axes = (window.BANK && window.BANK.axes) || [
        {left:'I',right:'E'},
        {left:'C',right:'G'},
        {left:'L',right:'V'},
        {left:'P',right:'F'},
      ];
      var answers = window.answers || window.ANSWERS || window.userAnswers || null;
      if (!items || !answers || answers.length !== items.length) return;
      var scores=[0,0,0,0], counts=[0,0,0,0];
      items.forEach((it,i)=>{
        var v = (answers[i]||3)-3;
        scores[it.axis] += (it.polarity||1)*v;
        counts[it.axis]++;
      });
      var code = scores.map((S,i)=> S>=0 ? axes[i].right : axes[i].left).join('');
      var rightPct = scores.map((S,i)=>{
        var n = counts[i]||1;
        var p = ((S + 2*n) / (4*n)) * 100;
        p = Math.max(0, Math.min(100, Math.round(p)));
        if (p === 50) p = (code[i]===axes[i].right) ? 51 : 49;
        return p;
      });
      link.addEventListener('click', function(){
        var u = new URL(link.href, location.origin);
        u.searchParams.set('code', code);
        rightPct.forEach((p,i)=> u.searchParams.set('a'+i, p));
        link.href = u.toString();
      }, {once:true});
    }catch(e){/* ignore */}
  }
  if (document.readyState === 'loading') document.addEventListener('DOMContentLoaded', attach);
  else attach();
})();
</script></body></html>